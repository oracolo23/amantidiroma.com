<!DOCTYPE html>
<html lang="en">

<head>
  <title>Bookings</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
</head>

<body>
  <header>
    <div class="navigation-bar">
      <div class="burger">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <nav class="nav-logo">
        <a href="index.html" class="logo-container"><img src="pics/logos/logo_trasnparent.png" alt="Logo"
            class="logo"></a>
      </nav>
      <nav class="nav-buttons">
        <a href="index.html"><i class="fas fa-home"></i> Home</a>
        <a href="rooms.html"><i class="fas fa-bed"></i> Rooms</a>
        <a href="about.html"><i class="fas fa-info-circle"></i> About</a>
        <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
        <a href="bookings.html"><i class="far fa-calendar-check"></i> Bookings</a>
      </nav>
    </div>
  </header>
  <div class="container-bookings-title">
    <h1>Bookings</h1>
  </div>
  <div class="parent-div">
    <div class="child-div-bookings">
      <div class="booking-container">
        <h2>New   Booking   Request</h2>
        <p><a href="create_booking.html" class="cta-button">Create Booking</a></p>
      </div>
    </div>
    <div class="child-div-bookings" id="check-booking-container">
      <div class="booking-container">
        <h2>Check Existing Request</h2>
        <form class="form-container" id="check-booking-form">
          <input type="text" id="booking-id-input" placeholder="Your Booking ID" required>
          <button type="submit" class="cta-button">Check Booking</button>
        </form>
      </div>
    </div>
  </div>
  <script>
    console.log('JavaScript code is executed.');
    var burger = document.querySelector('.burger');
    var nav = document.querySelector('.nav-buttons');
    var clickCount = 0;

    burger.addEventListener('click', function () {
      clickCount += 1;
      console.log('Click event is fired ' + clickCount + ' times.');
      nav.classList.toggle('nav-active');
    });

    document.getElementById('create-booking-form').addEventListener('submit', function (event) {
    event.preventDefault();
    // Collect form data, for example:
    var name = document.getElementById('name-input').value;
    var date = document.getElementById('date-input').value;
    // Create new booking by sending a POST request to the API.
    fetch('https://bookings-management-app-837eb876f572.herokuapp.com/api/bookings/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({name: name, date: date}),
    })
    .then(response => response.json())
    .then(data => {
        alert('Booking Successful! Your booking ID is ' + data.id);
        // Store new booking data in sessionStorage and redirect to booking.html.
        sessionStorage.setItem('booking', JSON.stringify(data));
        window.location.href = 'booking.html';
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Failed to create booking. Please try again.');
    });
});

  </script>
  <footer>
    <p>&copy; 2023 Amanti di Roma. All rights reserved.</p>
  </footer>
</body>

</html>
